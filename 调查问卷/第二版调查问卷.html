
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>分页式问卷</title>
    <style>
        /* 此处插入下方CSS代码 */
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
        }

        .question {
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, transform 0.3s ease;
            transform: translateX(50px);
            position: absolute;
            width: 90%;
        }

        .question.active {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
        }

        .controls {
            margin-top: 30px;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        #nextBtn {
            padding: 12px 35px;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .progress {
            color: #666;
            font-size: 0.9em;
        }

        label {
            display: block;
            margin: 10px 0;
            padding: 8px;
            background: #f5f5f5;
            border-radius: 4px;
        }
    </style>
</head>
<body>
<div class="survey-container">
    <!-- 问题模板 -->
    <div class="question active">
        <h3>问题1：您最喜欢的编程语言是？</h3>
        <label><input type="radio" name="q1" required> JavaScript</label>
        <label><input type="radio" name="q1"> Python</label>
    </div>

    <div class="question">
        <h3>问题2：您常用的开发工具？</h3>
        <label><input type="checkbox" name="q2"> VS Code</label>
        <label><input type="checkbox" name="q2"> IntelliJ</label>
    </div>
    <!-- 其他18道题... -->
</div>

<div class="controls">
    <span class="progress">进度：<span id="currentProgress">1</span>/20</span>
    <button id="nextBtn">下一题</button>
</div>

<script>

    document.addEventListener('DOMContentLoaded', () => {
        const questions = document.querySelectorAll('.question');
        const nextBtn = document.getElementById('nextBtn');
        const progressSpan = document.getElementById('currentProgress');
        let currentIndex = 0;

        // 答案存储对象
        const answers = {};

        // 初始化显示第一题
        questions<x-preset class="no-tts reference-tag" data-index="0">0</x-preset>.classList.add('active');

        // 按钮点击处理
        nextBtn.addEventListener('click', () => {
            // 验证当前题目是否完成<x-preset class="no-tts reference-tag" data-index="7">7</x-preset>
            if (!validateCurrentQuestion()) return;

            // 保存答案
            saveAnswer();

            // 切换题目
            if (currentIndex < questions.length - 1) {
                questions[currentIndex].classList.remove('active');
                currentIndex++;
                questions[currentIndex].classList.add('active');
                updateProgress();
            } else {
                submitSurvey();
            }

            // 更新按钮文字
            if (currentIndex === questions.length - 1) {
                nextBtn.textContent = '提交问卷';
            }
        });

        // 验证函数
        function validateCurrentQuestion() {
            const currentQuestion = questions[currentIndex];
            const requiredInputs = currentQuestion.querySelectorAll('[required]');
            return Array.from(requiredInputs).every(input => {
                if (input.type === 'checkbox') return input.checked;
                return input.value.trim() !== '';
            });
        }

        // 保存答案
        function saveAnswer() {
            const inputs = questions[currentIndex].querySelectorAll('input');
            answers[`q${currentIndex + 1}`] = Array.from(inputs)
                .filter(input => input.checked || (input.type === 'text' && input.value))
                .map(input => input.value);
        }

        // 更新进度
        function updateProgress() {
            progressSpan.textContent = currentIndex + 1;
        }

        // 提交问卷
        function submitSurvey() {
            console.log('提交的答案：', answers);
            // 此处可替换为AJAX提交<x-preset class="no-tts reference-tag" data-index="6">6</x-preset>
            alert('问卷提交成功！感谢参与！');
        }
    });
</script>
</body>
</html>